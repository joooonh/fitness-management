# fitness-management
![image](https://user-images.githubusercontent.com/116352772/223402360-254e4b0c-8e7c-4999-ab25-e5b5c8cca276.png)|![image](https://user-images.githubusercontent.com/116352772/223403056-30f79b71-87ee-4fc8-8d07-4a4ee3ca36a1.png)
:---:|:---:
ì‚¬ìš©ì í™”ë©´|ê´€ë¦¬ì í™”ë©´
<br/>

## ğŸ’» í”„ë¡œì íŠ¸ ì†Œê°œ
- í”¼íŠ¸ë‹ˆìŠ¤ íšŒì›ê´€ë¦¬ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. 
- ì‚¬ìš©ì ëª¨ë“œì™€ ê´€ë¦¬ì ëª¨ë“œë¡œ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
- ì‚¬ìš©ì : í”„ë¡œê·¸ë¨ ì¼ì •ì„ ì¡°íšŒí•˜ì—¬ ì‹ ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
<br/>(íšŒì›ê°€ì…, ë¡œê·¸ì¸, í”„ë¡œê·¸ë¨ ì‹ ì²­, ë§ˆì´í˜ì´ì§€, ê´€ë¦¬ìì™€ ì±„íŒ…)
- ê´€ë¦¬ì : í”„ë¡œê·¸ë¨ì˜ ì˜ˆì•½ê³¼ ì¼ì •, íšŒì›ì˜ ì •ë³´, ì¶œì„ ë“±ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 
<br/>(ë§¤ì¥ê´€ë¦¬, ì§ì›ê´€ë¦¬, íšŒì›ê´€ë¦¬, í”„ë¡œê·¸ë¨ê´€ë¦¬, ì¶œì„ê´€ë¦¬, ì¼ì •ê´€ë¦¬, ì‚¬ìš©ìì™€ ì±„íŒ…)

## ğŸ“† í”„ë¡œì íŠ¸ ê¸°ê°„
- 2023.01.30 ~ 2023.03.03

## ğŸ™â€â™€ï¸ íŒ€ì› êµ¬ì„±
- ê¹€ì¤€í¬(íŒ€ì¥)
- ì¡°ì„±ë¯¼
- ì´ì•„ì¸
- í™©ì°½ìš°

## ğŸ›  ê°œë°œ ë„êµ¬
- language : Java 11, javascript, html/css
- framework : spring boot, spring security
- database : Oracle, Mybatis
- IDE : Eclipse
- Server : AWS
- Build : Maven
- etc. : JSP, Git


## ğŸ“Œ ë‹´ë‹¹ ê¸°ëŠ¥

### * ì‚¬ìš©ì ëª¨ë“œ
### 1. ë©”ì¸í˜ì´ì§€
<img src="https://user-images.githubusercontent.com/116352772/223400902-e1a93125-7937-4ffa-afb3-899c6f213a8d.png" width="500" height="230"/>|<img src="https://user-images.githubusercontent.com/116352772/223402360-254e4b0c-8e7c-4999-ab25-e5b5c8cca276.png" width="500" height="230"/>
:---:|:---:
ë¡œê·¸ì¸ ì „ ë©”ì¸í˜ì´ì§€|ë¡œê·¸ì¸ í›„ ë©”ì¸í˜ì´ì§€

- spring securityë¥¼ ì ìš©í•˜ì—¬ ë§ˆì´í˜ì´ì§€, í”„ë¡œê·¸ë¨ ì‹ ì²­, ì±„íŒ… ê¸°ëŠ¥ ë“±ì€ [ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥](https://github.com/joooonh/fitness-management/blob/2f3da540eeb99b42c7d3cfc568529a9fee51240b/src/main/webapp/WEB-INF/views/common/header.jsp#L41-L61)í•˜ë„ë¡ êµ¬í˜„
<br/>

### 2. íšŒì›ê°€ì…
![ezgif com-gif-maker](https://github.com/joooonh/fitness-management/assets/116352772/b6de61cd-284d-491a-a724-871f20736c74)|![ezgif com-gif-maker (1)](https://github.com/joooonh/fitness-management/assets/116352772/17187885-2fef-4c1e-a006-73699dc20185)
:---:|:---:
ìœ íš¨ì„± ê²€ì‚¬|íšŒì›ê°€ì… ì™„ë£Œ

- [íšŒì›ê°€ì… ë¡œì§](https://github.com/joooonh/fitness-management/blob/45a28518e2a7337b9374ff4c22f4121b19fac772/src/main/java/com/example/web/controller/user/UserController.java#L68-L97)
- í”„ë¡œí•„ ì‚¬ì§„ ì—…ë¡œë“œ, [ë¯¸ë¦¬ë³´ê¸°](https://github.com/joooonh/fitness-management/blob/482339f35584e541a379ea8f0cfe18d650e6682d/src/main/webapp/WEB-INF/views/user/register-form.jsp#L161-L171)
- [ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ api](https://github.com/joooonh/fitness-management/blob/482339f35584e541a379ea8f0cfe18d650e6682d/src/main/webapp/WEB-INF/views/user/register-form.jsp#L146-L154) ì‚¬ìš©í•˜ì—¬ ì£¼ì†Œ ì…ë ¥
<br/>

### 3. ë¡œê·¸ì¸
![ezgif com-gif-maker (2)](https://github.com/joooonh/fitness-management/assets/116352772/9ee629ad-46ad-42d7-a6d3-8fddbbcb8aac)|![ezgif com-gif-maker (3)](https://github.com/joooonh/fitness-management/assets/116352772/35e74856-c8ab-42fa-99b2-6eb79a52fe6a)
:---:|:---:
ì¼ë°˜ ë¡œê·¸ì¸|ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸

- ğŸš¨[Securityë¥¼ ì»¤ìŠ¤í…€](#1-security-ì»¤ìŠ¤í…€)í•˜ì—¬ ì‚¬ìš©ì, ê´€ë¦¬ì ë¡œê·¸ì¸ë¶€í„°ì˜ ê¸°ëŠ¥ ë¶„ë¦¬
- [ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ api](https://github.com/joooonh/fitness-management/blob/02701d6eb43c5a7991f1a48c38e68a1c60f9d771/src/main/java/com/example/security/service/CustomOAuth2UserService.java#L29-L103) ì‚¬ìš©
<br/>


### 4. ë§ˆì´í˜ì´ì§€
![ë§ˆì´í˜ì´ì§€](https://github.com/joooonh/fitness-management/assets/116352772/f60a6752-e29c-4b88-a132-41a461e7f98e)|![ì¹´ì¹´ì˜¤ ë§ˆì´í˜ì´ì§€](https://github.com/joooonh/fitness-management/assets/116352772/f77a6d5f-09c9-4079-a0a0-b6cce120f447)
:---:|:---:
ì¼ë°˜ ë¡œê·¸ì¸ ë§ˆì´í˜ì´ì§€|ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë§ˆì´í˜ì´ì§€

- [ë§ˆì´í˜ì´ì§€](https://github.com/joooonh/fitness-management/blob/45a28518e2a7337b9374ff4c22f4121b19fac772/src/main/java/com/example/web/controller/user/UserController.java#L111-L210)
  - ë‚´ ì •ë³´ ì¡°íšŒ/ìˆ˜ì • : ë¹„ë°€ë²ˆí˜¸, ì „í™”ë²ˆí˜¸, ì£¼ì†Œë§Œ ìˆ˜ì • ê°€ëŠ¥, ğŸš¨[ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë§ˆì´í˜ì´ì§€](#2-ì¹´ì¹´ì˜¤-ë¡œê·¸ì¸-ë§ˆì´í˜ì´ì§€)
  - ë‚´ ì˜ˆì•½ ì¡°íšŒ(ìˆ˜ì—…ì‹ ì²­ë‚´ì—­) : í”„ë¡œê·¸ë¨, ìˆ˜ì—…ì‹ ì²­ë‚´ì—­, ì§ì› í…Œì´ë¸” ë“±ì„ ì¡°ì¸í•˜ì—¬ ì‹ ì²­í•œ í”„ë¡œê·¸ë¨ ë‚´ì—­ ì¡°íšŒ
  - ë‚´ ì˜ˆì•½ ì¡°íšŒ(ìƒë‹´ë¬¸ì˜ë‚´ì—­) : í”„ë¡œê·¸ë¨, ìƒë‹´ì‹ ì²­ë‚´ì—­, ì§ì› í…Œì´ë¸” ë“±ì„ ì¡°ì¸í•˜ì—¬ ì‹ ì²­í•œ ìƒë‹´ ë‚´ì—­ ì¡°íšŒ
  - ë‚´ íšŒì›ê¶Œ ì¡°íšŒ : ì‹ ì²­í•œ íšŒì›ê¶Œ ì •ë³´ ì¡°íšŒ
  - íšŒì› íƒˆí‡´ : ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ë©´ íƒˆí‡´, íƒˆí‡´ í›„ì—ëŠ” ìë™ ë¡œê·¸ì•„ì›ƒ
<br/>


### 5. í”„ë¡œê·¸ë¨ ì‹ ì²­
![í”„ë¡œê·¸ë¨ì‹ ì²­1](https://github.com/joooonh/fitness-management/assets/116352772/11f378ba-3adb-47c5-9e6b-bc3d9acff1fd)|![í”„ë¡œê·¸ë¨ì‹ ì²­2](https://github.com/joooonh/fitness-management/assets/116352772/2af99641-a4b8-41f5-b20c-b16163328502)
:---:|:---:
í”„ë¡œê·¸ë¨ë§Œ ì‹ ì²­|í”„ë¡œê·¸ë¨, íšŒì›ê¶Œ ì‹ ì²­

- [ì¹´ì¹´ì˜¤ ì§€ë„ api](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/webapp/WEB-INF/views/user/class-register.jsp#L265-L285)ë¥¼ ì‚¬ìš©í•´ì„œ ë§¤ì¥ì •ë³´ ì¶œë ¥
- [full calendar api](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/webapp/WEB-INF/views/user/class-register.jsp#L154-L209)ë¥¼ ì‚¬ìš©í•´ì„œ ìš”ì¼ë³„ë¡œ ë°˜ë³µë˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ì „ì²´ ì¼ì •ì„ ë‹¬ë ¥ì— í‘œì‹œ ([ì¼ì • ì¡°íšŒ ë¡œì§](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/java/com/example/service/user/ClassRegisterService.java#L91-L159))
- [ajaxë¥¼ ì‚¬ìš©](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/webapp/WEB-INF/views/user/class-register.jsp#L233-L240)í•´ì„œ í”„ë¡œê·¸ë¨ì„ ì„ íƒí•  ë•Œë§ˆë‹¤ ì„ íƒí•œ í”„ë¡œê·¸ë¨ì— í•´ë‹¹í•˜ëŠ” ì‹œê°„, ê°€ê²© ì •ë³´ ì¶œë ¥
- [moment.js ë¼ì´ë¸ŒëŸ¬ë¦¬](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/webapp/WEB-INF/views/user/class-register.jsp#L251-L263)ë¥¼ ì‚¬ìš©í•´ì„œ íšŒì›ê¶Œ ì‹œì‘ë‚ ì§œì™€ ê¸°ê°„ì„ ì„ íƒí•˜ë©´ ì¢…ë£Œë‚ ì§œë¥¼ ê³„ì‚°í•´ì„œ ì¶œë ¥, ì„ íƒí•œ ê¸°ê°„ì— í•´ë‹¹í•˜ëŠ” ê°€ê²© ì¶œë ¥
- [í”„ë¡œê·¸ë¨ ì‹ ì²­](https://github.com/joooonh/fitness-management/blob/1c9ca7617b46251acdc12ffc028748fc35a88e89/src/main/java/com/example/web/controller/user/ClassRegisterController.java#L63-L84) 
<br/>


### 7. ê´€ë¦¬ì ë¡œê·¸ì¸ 
![image](https://user-images.githubusercontent.com/116352772/223402869-ce140af9-3385-4aec-9051-21a08b876aca.png)
### 8. ê´€ë¦¬ì ë¡œê·¸ì¸ í›„ í™”ë©´
![image](https://user-images.githubusercontent.com/116352772/223402931-598583d9-7207-4b01-bac5-29dd96b04b3a.png)
### 9. íšŒì›ê´€ë¦¬ - íšŒì›ëª©ë¡
![image](https://user-images.githubusercontent.com/116352772/223403056-30f79b71-87ee-4fc8-8d07-4a4ee3ca36a1.png)
### 10. íšŒì›ê´€ë¦¬ - íšŒì›ê²€ìƒ‰
![image](https://user-images.githubusercontent.com/116352772/223403144-1c1be5fd-ab65-418f-a034-c57d76ded25a.png)
### 11. íšŒì›ê´€ë¦¬ - íšŒì›ì •ë ¬
![image](https://user-images.githubusercontent.com/116352772/223403261-b317e780-e6b8-46ff-b172-add74f827d2d.png)
### 12. ì‚¬ìš©ìì™€ ê´€ë¦¬ì ê°„ ì±„íŒ… 
![image](https://user-images.githubusercontent.com/116352772/223404608-5985eb4b-5334-470e-8eab-348fa4e7613b.png)

<br/>
<br/>

## ğŸš¨ íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### 1. Security ì»¤ìŠ¤í…€

#### 1) ë¬¸ì œ
  - ë¡œê·¸ì¸í•œ ì´ìš©ìë¥¼ êµ¬ë¶„í•˜ê¸° ìœ„í•œ userTypeì´ Authentication í† í°ì— ì €ì¥ë˜ì§€ ì•Šì•„ ë¡œê·¸ì¸í•œ ì´ìš©ìê°€ êµ¬ë¶„ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ

#### 2) ì›ì¸
  - ì‚¬ìš©ì, ê´€ë¦¬ìì˜ ê° ë¡œê·¸ì¸ í¼ì—ì„œ ë¡œê·¸ì¸ ì •ë³´ì™€ í•¨ê»˜ íˆë“ í•„ë“œë¡œ userTypeì„ ë„˜ê²¨ì¤¬ì§€ë§Œ, ê¸°ë³¸ ì‹œíë¦¬í‹° êµ¬ì¡° ì¤‘ì—ëŠ” ì‚¬ìš©ìê°€ ì„ì˜ë¡œ ìƒì„±í•œ userTypeì„ ì €ì¥í•˜ëŠ” í•„ë“œê°€ ì—†ìŒ
  - ([ì‚¬ìš©ì userType = "ì‚¬ìš©ì"](https://github.com/joooonh/fitness-management/blob/583572fe351421899a8f917b8cf7728e631e7ed3/src/main/webapp/WEB-INF/views/user/login-form.jsp#L23), [ê´€ë¦¬ì userType = "ê´€ë¦¬ì"](https://github.com/joooonh/fitness-management/blob/583572fe351421899a8f917b8cf7728e631e7ed3/src/main/webapp/WEB-INF/views/employee/login-form.jsp#L22))

#### 3) í•´ê²°
  - ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë°›ì•„ì„œ Authentication í† í°ì„ ìƒì„±í•˜ëŠ” [AuthenticationFilterë¥¼ ì»¤ìŠ¤í…€](https://github.com/joooonh/fitness-management/blob/583572fe351421899a8f917b8cf7728e631e7ed3/src/main/java/com/example/security/CustomAuthenticationFilter.java#L15-L35)í•˜ì—¬ ë¡œê·¸ì¸ ì •ë³´ì™€ í•¨ê»˜ userType ì •ë³´ë„ ë„˜ê²¨ë°›ì•„ í† í°ì„ ìƒì„±í•œë‹¤. 
  - [í† í°ë„ ì»¤ìŠ¤í…€](https://github.com/joooonh/fitness-management/blob/583572fe351421899a8f917b8cf7728e631e7ed3/src/main/java/com/example/security/CustomAuthenticationToken.java#L8-L28)í•˜ì—¬ userType í•„ë“œë¥¼ ìƒì„±í•˜ê³  ì •ë³´ë¥¼ ì €ì¥í•œë‹¤.
  - ì‹¤ì§ˆì ì¸ ì¸ì¦ ì²˜ë¦¬ë¥¼ í•˜ëŠ” [AuthenticationProviderë„ ì»¤ìŠ¤í…€](https://github.com/joooonh/fitness-management/blob/583572fe351421899a8f917b8cf7728e631e7ed3/src/main/java/com/example/security/CustomAuthenticationProvider.java#L17-L55)í•˜ì—¬ í† í°ì—ì„œ êº¼ë‚¸ userTypeì— ë”°ë¼ ì‚¬ìš©ì í…Œì´ë¸”, ê´€ë¦¬ì í…Œì´ë¸”ì„ ì¡°íšŒí•´ì„œ ì¼ì¹˜í•˜ëŠ” ê°ì²´ë¥¼ êº¼ë‚´ ì¸ì¦ëœ Authentication ê°ì²´ì— ë‹´ëŠ”ë‹¤.
  - ì¸ì¦ ì™„ë£Œëœ Authentication ê°ì²´ì— ë¡œê·¸ì¸ í•œ ì´ìš©ìì˜ ì •ë³´ì™€ userTypeì´ ë‹´ê²¨ìˆë‹¤. 

#### 4) ëŠë‚€ì 
  - ì‹œíë¦¬í‹°ì˜ ë™ì‘ íë¦„ì„ ìˆ™ì§€í•˜ì§€ ëª»í•œ ì±„ë¡œ êµ¬í˜„í•˜ë ¤ë‹¤ë³´ë‹ˆ ì–´ë ¤ì›€ì´ ì»¸ëŠ”ë°, íë¦„ì„ ì œëŒ€ë¡œ ì´í•´í•˜ê¸° ìœ„í•´ì„œ ì§ì ‘ êµ¬ì¡°ë¥¼ ëœ¯ì–´ë³´ê³  ë¶„ì„í•˜ëŠ” ê³¼ì •ì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€ ëŠë¼ê²Œ ë˜ì—ˆë‹¤. êµ¬ì¡°ë¥¼ ëœ¯ì–´ë³¼ ë•Œ ë¡œê·¸ë¥¼ ë‚¨ê¸°ëŠ” ê²ƒì´ í° ë„ì›€ì´ ë˜ì—ˆë‹¤. 
  - ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µë˜ëŠ” ê¸°ëŠ¥ì´ë¼ë„ ìƒì†, êµ¬í˜„ ë“±ì„ í†µí•´ì„œ ì›í•˜ëŠ” ëŒ€ë¡œ ì»¤ìŠ¤í…€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì—ì„œ ìŠ¤í”„ë§ì˜ í™•ì¥ì„±ì˜ ì¥ì ì„ ëŠê¼ˆë‹¤. ì‹œíë¦¬í‹°ë¥¼ ì»¤ìŠ¤í…€í•˜ëŠ” ê³¼ì •ì—ì„œ ì½”ë“œì— ëŒ€í•œ ì´í•´ë„ë„ í›¨ì”¬ ë†’ì•„ì§€ê²Œ ë˜ì—ˆë‹¤. 
<br/>
<br/>

### 2. ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ë§ˆì´í˜ì´ì§€

#### 1) ë¬¸ì œ
  - ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì‹œ ë§ˆì´í˜ì´ì§€ì˜ í”„ë¡œí•„ì— ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì¹´ì¹´ì˜¤ í”„ë¡œí•„ì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ë¬¸ì œ ë°œìƒ

#### 2) ì›ì¸
  - ì¼ë°˜ íšŒì›ê°€ì…ê³¼ ì¹´ì¹´ì˜¤ íšŒì›ê°€ì… ì‹œ ì‚¬ì§„ì´ ì €ì¥ë˜ëŠ” ê²½ë¡œê°€ ë‹¤ë¦„ 

#### 3) í•´ê²° 
  - ë¡œê·¸ì¸ ë°©ì‹ì— ë”°ë¼ [ì‚¬ì§„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²½ë¡œë¥¼ êµ¬ë¶„](https://github.com/joooonh/fitness-management/blob/45a28518e2a7337b9374ff4c22f4121b19fac772/src/main/webapp/WEB-INF/views/user/info.jsp#L34-L42)í•œë‹¤.
    - ì‚¬ìš©ì ê°ì²´ì¸ User, ModifyFormì— providerType í•„ë“œë¥¼ ì¶”ê°€í•˜ì—¬, providerTypeì´ null(ì¼ë°˜)ì¸ì§€ kakao(ì¹´ì¹´ì˜¤)ì¸ì§€ì— ë”°ë¼ ì‚¬ì§„ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ê²½ë¡œë¥¼ êµ¬ë¶„í•œë‹¤. 



